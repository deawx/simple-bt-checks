/*!
 * Simple bt checks 2.0
 * http://joelthorner.com/plugin/simple-bt-checks
 *
 * Copyright 2016 Joel Thorner - @joelthorner
 */
!function(t){"use strict";function n(){l.aditionalListeners=[],o(),c(),s(),e(),i(),"function"===t.type(l.options.onInit)&&l.options.onInit.call(l.$element,l)}function e(){if("string"===t.type(l.options.wrapContainer))switch(l.options.wrapContainer){case"none":break;case"input":l.$element.add(l.$btn).wrapAll('<div class="sbtc-container"></div>');break;case"all":l.$element.add(l.$btn).add(l.$element.siblings(l.labelToInput)).add(l.$element.parent().find(l.labelToInput)).wrapAll('<div class="sbtc-container"></div>')}}function s(){l.$element.addClass("sbtc-initialized");var n=!1;l.$element.prop("checked")&&(n=!0),l.isChecked=n,l.uuid=a();var e="sbtc-btn "+l.options.btnClass+" sbtc-"+l.options.size+(n?" sbtc-checked":" sbtc-no-checked"),s='<span class="sbtc-icon '+(n?l.options.checkedIcon:"")+'"></span>',i=t("<button/>",{id:l.uuid,html:s,"class":e});l.$btn=i,l.$element.before(l.$btn)}function i(){l.$btn.on("click.bs.sbtc",function(n){n.preventDefault(),n.stopPropagation(),t(this).next(".sbtc-initialized").click()}),l.$element.parent().find(l.labelToInput).on("click.bs.sbtc",function(n){n.preventDefault(),n.stopPropagation(),t(this).find(".sbtc-initialized").click()}),l.$element.siblings(l.labelToInput).on("click.bs.sbtc",function(n){n.preventDefault(),n.stopPropagation(),t(this).siblings(".sbtc-initialized").click()}),l.$element.on("change.bs.sbtc",function(n){var e=t(this).data("simpleBtChecks"),s=t(this);"function"===t.type(e.options.onChange)&&e.options.onChange.call(s,e),e.isChecked?e.$btn.removeClass("sbtc-checked").addClass("sbtc-no-checked").find(".sbtc-icon").removeClass(e.options.checkedIcon):e.$btn.removeClass("sbtc-no-checked").addClass("sbtc-checked").find(".sbtc-icon").addClass(e.options.checkedIcon),e.isChecked=t(this).prop("checked"),"function"===t.type(e.options.afterChange)&&e.options.afterChange.call(s,e)})}function o(){var n=l.$element.attr("id");0==t('label[for="'+n+'"]').length&&(l.options.strictLabel=!1),l.options.strictLabel?l.labelToInput='label[for="'+l.labelToInput+'"]':l.labelToInput="label"}function c(){l.options.bootstrapUse===!1?(l.options.btnClass=l.options.btnClass+" sbtc-no-bt",l.options.checkedIcon=l.options.checkedIcon+" sbtc-checked-icon"):l.options.btnClass=l.options.btnClass+" sbtc-bootstrap"}function a(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return"sbtc-"+t()+t()+"-"+t()+"-"+t()+"-"+t()}var l,b=function(e,s){l=this,this.$element=t(e);var i={size:"default",btnClass:"btn btn-default",checkedIcon:"glyphicon glyphicon-ok",bootstrapUse:!0,wrapContainer:"none",strictLabel:!0,onInit:null,onChange:null,changeCallback:null,onDestroy:null};this.options=t.extend(i,s),n()};b.prototype={destroy:function(){var n=t(this).data("simpleBtChecks");n.$btn.remove(),n.$element.removeClass("sbtc-initialized"),n.$element.off("change.bs.sbtc"),n.$element.siblings(l.labelToInput).off("click.bs.sbtc"),n.$element.parent().find(l.labelToInput).off("click.bs.sbtc"),t.each(n.aditionalListeners,function(t,n){n.off("click.bs.sbtc")}),"function"===t.type(l.options.onDestroy)&&l.options.onDestroy.call(n.$element,n),n.$element.removeData("simpleBtChecks")},addListener:function(n){var e=t(this).data("simpleBtChecks"),s=t(this);"object"===t.type(n)&&e&&(e.aditionalListeners.push(n),n.on("click.bs.sbtc",function(t){s.click()}))}},t.fn.simpleBtChecks=function(n){var e=Array.prototype.slice.call(arguments);return e.shift(),this.each(function(){var s=t(this),i=s.data("simpleBtChecks");!i&&s.is('input[type="checkbox"]')&&s.data("simpleBtChecks",i=new b(this,n)),"string"==typeof n&&i[n].apply(this,e)})},t.fn.simpleBtChecks.Constructor=b}(window.jQuery);